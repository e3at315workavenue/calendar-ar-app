<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebAR Video Calendar</title>
    <!-- Import A-Frame and MindAR -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <style>
      /* User tap overlay */
      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        z-index: 10;
        cursor: pointer;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <!-- Overlay prompting user tap -->
    <div id="overlay">Tap anywhere to start AR</div>

    <!-- AR Scene -->
    <a-scene
      mindar-image="imageTargetSrc: ./targets.mind"
      embedded
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
    >
      <!-- Preloading video assets -->
      <a-assets>
        <video id="0" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/0.mp4?v=1734351300566" loop muted crossorigin="anonymous"></video>
        <video id="1" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/1.mp4?v=1734351338344" loop muted crossorigin="anonymous"></video>
        <video id="2" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/2.mp4?v=1734351317863" loop muted crossorigin="anonymous"></video>
        <video id="3" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/3.mp4?v=1734351301918" loop muted crossorigin="anonymous"></video>
        <video id="4" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/4.mp4?v=1734351355232" loop muted crossorigin="anonymous"></video>
        <video id="5" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/5.mp4?v=1734351352641" loop muted crossorigin="anonymous"></video>
        <video id="6" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/6.mp4?v=1734351392879" loop muted crossorigin="anonymous"></video>
        <video id="7" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/7.mp4?v=1734351357884" loop muted crossorigin="anonymous"></video>
        <video id="8" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/8.mp4?v=1734351361677" loop muted crossorigin="anonymous"></video>
        <video id="9" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/9.mp4?v=1734351364072" loop muted crossorigin="anonymous"></video>
        <video id="10" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/10.mp4?v=1734351370840" loop muted crossorigin="anonymous"></video>
        <video id="11" src="https://cdn.glitch.global/47cb3597-937e-4975-9047-af4b82a887a7/11.mp4?v=1734351373819" loop muted crossorigin="anonymous"></video>
      </a-assets>

      <!-- Camera -->
      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <!-- Targets for 12 videos -->
      <a-entity mindar-image-target="targetIndex: 0">
        <a-video src="#0" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 1">
        <a-video src="#1" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 2">
        <a-video src="#2" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 3">
        <a-video src="#3" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 4">
        <a-video src="#4" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 5">
        <a-video src="#5" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 6">
        <a-video src="#6" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 7">
        <a-video src="#7" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 8">
        <a-video src="#8" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 9">
        <a-video src="#9" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 10">
        <a-video src="#10" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
      <a-entity mindar-image-target="targetIndex: 11">
        <a-video src="#11" position="0 0 0" scale="1 0.5 1"></a-video>
      </a-entity>
    </a-scene>

    <script>
      // Tap overlay to allow autoplay
      document.getElementById("overlay").addEventListener("click", () => {
        document.querySelectorAll("video").forEach((video) => video.play());
        document.getElementById("overlay").style.display = "none";
      });
    </script>
  </body>
</html>
